# Земля просто — проектирование модуля

Репозиторий содержит проектную документацию и каркас сервисов на Go для модуля
«Сервис "Земля просто"». Модуль предназначен для цифровизации процедур подбора, образования и
предоставления земельных участков, находящихся в государственной или муниципальной собственности.

## Структура

- `docs/architecture.md` — описание архитектуры, ролей, интеграций и технологических решений.
- `cmd/gateway` — HTTP-шлюз (BFF) с минимальными REST-эндпоинтами.
- `internal/` — пакеты доменных сервисов (моделирование участков, генерация документов и т.д.).

## Быстрый старт

```bash
make run # или go run ./cmd/gateway
```

Доступные REST-эндпоинты:

- `GET /healthz` — проверка работоспособности.
- `POST /api/v1/plots` — создание контура (GeoJSON передаётся в поле `geometry`).
- `GET /api/v1/plots` — список контуров (можно указать `ownerId`).
- `POST /api/v1/document-packages` — прототип генерации комплекта документов.

## План дальнейшей проработки

1. Детализация требований в рамках ЧТЗ.
2. Разделение сервисов на независимые микросервисы (plot-designer, document-assembly и т.д.).
3. Подключение PostgreSQL/PostGIS, Kafka и GeoServer.
4. Реализация интеграций с ГИСОГД РФ и ФГИС ЕПГУ.
5. Подготовка автотестов и CI/CD.

=======
# Сервис «Земля просто»

Демонстрационная реализация сервиса предоставления земельных участков,
написанная на Go. Проект содержит HTTP API, моделирующее ключевые процессы
модуля «Сервис «Земля просто»»:

- создание контуров земельных участков различными способами;
- формирование информационных карточек и подбор готовых участков из перечней;
- генерация комплектов документов для обращения за государственными и
  муниципальными услугами;
- использование цифрового помощника для подсказки дальнейших шагов пользователю;
- моделирование этапов бизнес-процессов государственных и муниципальных услуг;
- ведение слоя «Земля просто» для отображения на публичном портале.

## Запуск

```bash
go run ./cmd/server
```

По умолчанию сервер стартует на порту `8080`. Порт можно задать переменной
окружения `PORT`.

## Примеры запросов

Для взаимодействия с API удобно использовать утилиту `curl`.

### Создание контура методом рисования

```bash
curl -X POST http://localhost:8080/api/contours/drawn \
  -H "Content-Type: application/json" \
  -d '{"description":"Контур, нарисованный на карте","points":[{"latitude":55.75,"longitude":37.61},{"latitude":55.76,"longitude":37.62},{"latitude":55.75,"longitude":37.63}]}'
```

### Получение подсказок цифрового помощника

```bash
curl -X POST http://localhost:8080/api/assistant/suggest \
  -H "Content-Type: application/json" \
  -d '{"goal":"choose_parcel","preferred_category":"construction"}'
```

### Формирование комплекта документов

```bash
curl -X POST http://localhost:8080/api/document-packages \
  -H "Content-Type: application/json" \
  -d '{"parcel_id":"construction-1"}'
```
